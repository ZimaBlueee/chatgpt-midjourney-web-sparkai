
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{B as y,r as F,ag as q,ah as h,ai as E,aj as A,C as R,ak as C,al as _,t as z}from"./index-56458f60.js";function b(u){var l;const e=h(u);return(l=e==null?void 0:e.$el)!=null?l:e}const D=E?window:void 0,T=E?window.document:void 0,B=E?window.navigator:void 0;function S(...u){let l,e,f,t;if(typeof u[0]=="string"||Array.isArray(u[0])?([e,f,t]=u,l=D):[l,e,f,t]=u,!l)return A;Array.isArray(e)||(e=[e]),Array.isArray(f)||(f=[f]);const s=[],d=()=>{s.forEach(a=>a()),s.length=0},r=(a,v,p,w)=>(a.addEventListener(v,p,w),()=>a.removeEventListener(v,p,w)),i=R(()=>[b(l),h(t)],([a,v])=>{d(),a&&s.push(...e.flatMap(p=>f.map(w=>r(a,p,w,v))))},{immediate:!0,flush:"post"}),c=()=>{i(),d()};return C(c),c}function L(){const u=F(!1);return _()&&z(()=>{u.value=!0}),u}function M(u){const l=L();return y(()=>(l.value,!!u()))}function W(u={}){const{navigator:l=B,read:e=!1,source:f,copiedDuring:t=1500,legacy:s=!1}=u,d=["copy","cut"],r=M(()=>l&&"clipboard"in l),i=y(()=>r.value||s),c=F(""),a=F(!1),v=q(()=>a.value=!1,t);function p(){r.value?l.clipboard.readText().then(o=>{c.value=o}):c.value=n()}if(i.value&&e)for(const o of d)S(o,p);async function w(o=h(f)){i.value&&o!=null&&(r.value?await l.clipboard.writeText(o):g(o),c.value=o,a.value=!0,v.start())}function g(o){const m=document.createElement("textarea");m.value=o??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function n(){var o,m,x;return(x=(m=(o=document==null?void 0:document.getSelection)==null?void 0:o.call(document))==null?void 0:m.toString())!=null?x:""}return{isSupported:i,text:c,copied:a,copy:w}}const k=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function j(u,l={}){const{document:e=T,autoExit:f=!1}=l,t=y(()=>{var n;return(n=b(u))!=null?n:e==null?void 0:e.querySelector("html")}),s=F(!1),d=y(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(n=>e&&n in e||t.value&&n in t.value)),r=y(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(n=>e&&n in e||t.value&&n in t.value)),i=y(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(n=>e&&n in e||t.value&&n in t.value)),c=M(()=>t.value&&e&&d.value!==void 0&&r.value!==void 0&&i.value!==void 0),a=()=>{if(i.value){if(e&&e[i.value]!=null)return e[i.value];{const n=t.value;if((n==null?void 0:n[i.value])!=null)return!!n[i.value]}}return!1};async function v(){if(c.value){if(r.value)if((e==null?void 0:e[r.value])!=null)await e[r.value]();else{const n=t.value;(n==null?void 0:n[r.value])!=null&&await n[r.value]()}s.value=!1}}async function p(){if(!c.value)return;a()&&await v();const n=t.value;d.value&&(n==null?void 0:n[d.value])!=null&&(await n[d.value](),s.value=!0)}async function w(){await(s.value?v():p())}const g=()=>{s.value=a()};return S(e,k,g,!1),S(()=>b(t),k,g,!1),f&&C(v),{isSupported:c,isFullscreen:s,enter:p,exit:v,toggle:w}}export{j as a,W as u};
