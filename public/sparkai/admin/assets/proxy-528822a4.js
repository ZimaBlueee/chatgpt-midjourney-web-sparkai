
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as U}from"./index-c786b651.js";import{a as f}from"./config-c56fc306.js";import{d as k,Q as M,r as d,t as q,o as B,c as E,e,f as o,a as y,k as N,E as p,h as t,q as x}from"./index-56458f60.js";const J={class:"flex justify-between"},O=y("b",null,"MJ参数设置",-1),R=k({__name:"proxy",setup(A){const a=M({mjProxy:0,mjProxyUrl:""}),g=d({}),s=d();async function c(){const n=await f.queryConfig({keys:["mjProxy","mjProxyUrl"]});Object.assign(a,n.data)}function b(){var n;(n=s.value)==null||n.validate(async l=>{if(l){try{await f.setConfig({settings:j(a)}),p.success("变更配置信息成功")}catch{}c()}else p.error("请填写完整信息")})}function j(n){return Object.keys(n).map(l=>({configKey:l,configVal:n[l]}))}return q(()=>{c()}),(n,l)=>{const m=t("el-alert"),v=U,w=t("el-button"),h=t("el-switch"),_=t("el-form-item"),u=t("el-col"),i=t("el-row"),P=t("el-input"),V=t("el-form"),C=t("el-card");return B(),E("div",null,[e(v,null,{default:o(()=>[e(m,{closable:!1,"show-icon":"",title:"MJ参数说明",description:"【此功能已废弃！请勿开启！】将直接转由绘画池一并处理！",type:"success"})]),_:1}),e(C,{style:{margin:"20px"}},{header:o(()=>[y("div",J,[O,e(w,{class:"button",text:"",onClick:b},{default:o(()=>[N(" 保存设置 ")]),_:1})])]),default:o(()=>[e(V,{ref_key:"formRef",ref:s,rules:g.value,model:a,"label-width":"130px"},{default:o(()=>[e(i,null,{default:o(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(_,{label:"是否开启代理",prop:"mjProxy"},{default:o(()=>[e(h,{modelValue:a.mjProxy,"onUpdate:modelValue":l[0]||(l[0]=r=>a.mjProxy=r),"active-value":"0","inactive-value":"1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(_,{label:"请填写代理地址",prop:"mjProxyUrl","label-width":"150"},{default:o(()=>[e(P,{modelValue:a.mjProxyUrl,"onUpdate:modelValue":l[1]||(l[1]=r=>a.mjProxyUrl=r),placeholder:"请填写代理地址、详细使用请访问教程！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof x=="function"&&x(R);export{R as default};
