import{g as Q,r as B,aN as Le,bk as Te,k as L,u as De,bl as qe,aT as Ve,w as Ke,m as Je,bm as Qe,al as ze,bj as Pe,s as O,bn as Ze,T as Ne,bo as et,bi as je,am as tt,a_ as fe,bp as nt,bq as ot,br as st,c as M,bs as he,a as G,b as K,d as se,bt as rt,p as at,h as Fe,l as Me,t as Be,bu as it,n as lt,bv as ct,bw as dt,bx as ut,aE as Re,by as ft,D as ee,aO as pt,bz as ht,a6 as me,H as ce,J as ve,a5 as mt,bA as Ue,bB as vt,K as be,E as R,F as q,M as d,O as c,N as e,bC as le,bD as Y,G as t,X as C,Y as N,af as Ee,W as te,ae as U,a1 as H,$ as J,bE as ne,Q as He,R as bt,bF as gt,bG as yt,a3 as We,aw as Ge,ap as pe,aq as Ie,b4 as _t,b5 as Se,bH as Ce,Z as Oe,bI as xt,bJ as wt,as as kt,bK as $t,a7 as Ae,bL as St,bM as ie,bN as ue,bO as Ct,P as zt,aC as At,bP as Tt,at as Et}from"./index-09938545.js";import{N as Xe}from"./DataTable-b8de10c7.js";import{_ as It}from"./titleBar.vue_vue_type_script_setup_true_lang-b5011850.js";import{N as Pt}from"./LayoutSider-fe172ec8.js";import"./Dropdown-692e1f2a.js";import"./utils-74414945.js";import"./Select-0f2f6671.js";const Mt=Q({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(r){const o=B(!!r.show),s=B(null),z=Le(Te);let g=0,v="",a=null;const n=B(!1),i=B(!1),h=L(()=>r.placement==="top"||r.placement==="bottom"),{mergedClsPrefixRef:b,mergedRtlRef:x}=De(r),T=qe("Drawer",x,b),A=I=>{i.value=!0,g=h.value?I.clientY:I.clientX,v=document.body.style.cursor,document.body.style.cursor=h.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",j),document.body.addEventListener("mouseleave",k),document.body.addEventListener("mouseup",F)},y=()=>{a!==null&&(window.clearTimeout(a),a=null),i.value?n.value=!0:a=window.setTimeout(()=>{n.value=!0},300)},l=()=>{a!==null&&(window.clearTimeout(a),a=null),n.value=!1},{doUpdateHeight:u,doUpdateWidth:P}=z,j=I=>{var D,Z;if(i.value)if(h.value){let X=((D=s.value)===null||D===void 0?void 0:D.offsetHeight)||0;const V=g-I.clientY;X+=r.placement==="bottom"?V:-V,u(X),g=I.clientY}else{let X=((Z=s.value)===null||Z===void 0?void 0:Z.offsetWidth)||0;const V=g-I.clientX;X+=r.placement==="right"?V:-V,P(X),g=I.clientX}},F=()=>{i.value&&(g=0,i.value=!1,document.body.style.cursor=v,document.body.removeEventListener("mousemove",j),document.body.removeEventListener("mouseup",F),document.body.removeEventListener("mouseleave",k))},k=F;Ve(()=>{r.show&&(o.value=!0)}),Ke(()=>r.show,I=>{I||F()}),Je(()=>{F()});const f=L(()=>{const{show:I}=r,D=[[Pe,I]];return r.showMask||D.push([tt,r.onClickoutside,void 0,{capture:!0}]),D});function w(){var I;o.value=!1,(I=r.onAfterLeave)===null||I===void 0||I.call(r)}return Qe(L(()=>r.blockScroll&&o.value)),fe(nt,s),fe(ot,null),fe(st,null),{bodyRef:s,rtlEnabled:T,mergedClsPrefix:z.mergedClsPrefixRef,isMounted:z.isMountedRef,mergedTheme:z.mergedThemeRef,displayed:o,transitionName:L(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[r.placement]),handleAfterLeave:w,bodyDirectives:f,handleMousedownResizeTrigger:A,handleMouseenterResizeTrigger:y,handleMouseleaveResizeTrigger:l,isDragging:i,isHoverOnResizeTrigger:n}},render(){const{$slots:r,mergedClsPrefix:o}=this;return this.displayDirective==="show"||this.displayed||this.show?ze(O("div",{role:"none"},O(Ze,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>O(Ne,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ze(O("div",et(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${o}-drawer`,this.rtlEnabled&&`${o}-drawer--rtl`,`${o}-drawer--${this.placement}-placement`,this.isDragging&&`${o}-drawer--unselectable`,this.nativeScrollbar&&`${o}-drawer--native-scrollbar`]}),[this.resizable?O("div",{class:[`${o}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${o}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?O("div",{class:`${o}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},r):O(je,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${o}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),r)]),this.bodyDirectives)})})),[[Pe,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Bt,cubicBezierEaseOut:Rt}=he;function Ot({duration:r="0.3s",leaveDuration:o="0.2s",name:s="slide-in-from-right"}={}){return[M(`&.${s}-transition-leave-active`,{transition:`transform ${o} ${Bt}`}),M(`&.${s}-transition-enter-active`,{transition:`transform ${r} ${Rt}`}),M(`&.${s}-transition-enter-to`,{transform:"translateX(0)"}),M(`&.${s}-transition-enter-from`,{transform:"translateX(100%)"}),M(`&.${s}-transition-leave-from`,{transform:"translateX(0)"}),M(`&.${s}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Lt,cubicBezierEaseOut:Dt}=he;function Nt({duration:r="0.3s",leaveDuration:o="0.2s",name:s="slide-in-from-left"}={}){return[M(`&.${s}-transition-leave-active`,{transition:`transform ${o} ${Lt}`}),M(`&.${s}-transition-enter-active`,{transition:`transform ${r} ${Dt}`}),M(`&.${s}-transition-enter-to`,{transform:"translateX(0)"}),M(`&.${s}-transition-enter-from`,{transform:"translateX(-100%)"}),M(`&.${s}-transition-leave-from`,{transform:"translateX(0)"}),M(`&.${s}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:jt,cubicBezierEaseOut:Ft}=he;function Ut({duration:r="0.3s",leaveDuration:o="0.2s",name:s="slide-in-from-top"}={}){return[M(`&.${s}-transition-leave-active`,{transition:`transform ${o} ${jt}`}),M(`&.${s}-transition-enter-active`,{transition:`transform ${r} ${Ft}`}),M(`&.${s}-transition-enter-to`,{transform:"translateY(0)"}),M(`&.${s}-transition-enter-from`,{transform:"translateY(-100%)"}),M(`&.${s}-transition-leave-from`,{transform:"translateY(0)"}),M(`&.${s}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Ht,cubicBezierEaseOut:Wt}=he;function Gt({duration:r="0.3s",leaveDuration:o="0.2s",name:s="slide-in-from-bottom"}={}){return[M(`&.${s}-transition-leave-active`,{transition:`transform ${o} ${Ht}`}),M(`&.${s}-transition-enter-active`,{transition:`transform ${r} ${Wt}`}),M(`&.${s}-transition-enter-to`,{transform:"translateY(0)"}),M(`&.${s}-transition-enter-from`,{transform:"translateY(100%)"}),M(`&.${s}-transition-leave-from`,{transform:"translateY(0)"}),M(`&.${s}-transition-leave-to`,{transform:"translateY(100%)"})]}const Xt=M([G("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Ot(),Nt(),Ut(),Gt(),K("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),K("native-scrollbar",[G("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),se("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[K("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),G("drawer-content-wrapper",`
 box-sizing: border-box;
 `),G("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[K("native-scrollbar",[G("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),G("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),G("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),G("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[se("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),G("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),K("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[se("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),K("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[se("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),K("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[se("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),K("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[se("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),M("body",[M(">",[G("drawer-container",{position:"fixed"})])]),G("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[M("> *",{pointerEvents:"all"})]),G("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[K("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),rt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Yt=Object.assign(Object.assign({},Fe.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),qt=Q({name:"Drawer",inheritAttrs:!1,props:Yt,setup(r){const{mergedClsPrefixRef:o,namespaceRef:s,inlineThemeDisabled:z}=De(r),g=at(),v=Fe("Drawer","-drawer",Xt,ut,r,o),a=B(r.defaultWidth),n=B(r.defaultHeight),i=Me(Be(r,"width"),a),h=Me(Be(r,"height"),n),b=L(()=>{const{placement:f}=r;return f==="top"||f==="bottom"?"":Re(i.value)}),x=L(()=>{const{placement:f}=r;return f==="left"||f==="right"?"":Re(h.value)}),T=f=>{const{onUpdateWidth:w,"onUpdate:width":I}=r;w&&ee(w,f),I&&ee(I,f),a.value=f},A=f=>{const{onUpdateHeight:w,"onUpdate:width":I}=r;w&&ee(w,f),I&&ee(I,f),n.value=f},y=L(()=>[{width:b.value,height:x.value},r.drawerStyle||""]);function l(f){const{onMaskClick:w,maskClosable:I}=r;I&&j(!1),w&&w(f)}const u=it();function P(f){var w;(w=r.onEsc)===null||w===void 0||w.call(r),r.show&&r.closeOnEsc&&ft(f)&&!u.value&&j(!1)}function j(f){const{onHide:w,onUpdateShow:I,"onUpdate:show":D}=r;I&&ee(I,f),D&&ee(D,f),w&&!f&&ee(w,f)}fe(Te,{isMountedRef:g,mergedThemeRef:v,mergedClsPrefixRef:o,doUpdateShow:j,doUpdateHeight:A,doUpdateWidth:T});const F=L(()=>{const{common:{cubicBezierEaseInOut:f,cubicBezierEaseIn:w,cubicBezierEaseOut:I},self:{color:D,textColor:Z,boxShadow:X,lineHeight:V,headerPadding:ge,footerPadding:re,bodyPadding:ye,titleFontSize:_e,titleTextColor:xe,titleFontWeight:we,headerBorderBottom:oe,footerBorderTop:ae,closeIconColor:ke,closeIconColorHover:$e,closeIconColorPressed:S,closeColorHover:m,closeColorPressed:p,closeIconSize:_,closeSize:$,closeBorderRadius:E,resizableTriggerColorHover:W}}=v.value;return{"--n-line-height":V,"--n-color":D,"--n-text-color":Z,"--n-box-shadow":X,"--n-bezier":f,"--n-bezier-out":I,"--n-bezier-in":w,"--n-header-padding":ge,"--n-body-padding":ye,"--n-footer-padding":re,"--n-title-text-color":xe,"--n-title-font-size":_e,"--n-title-font-weight":we,"--n-header-border-bottom":oe,"--n-footer-border-top":ae,"--n-close-icon-color":ke,"--n-close-icon-color-hover":$e,"--n-close-icon-color-pressed":S,"--n-close-size":$,"--n-close-color-hover":m,"--n-close-color-pressed":p,"--n-close-icon-size":_,"--n-close-border-radius":E,"--n-resize-trigger-color-hover":W}}),k=z?lt("drawer",void 0,F,r):void 0;return{mergedClsPrefix:o,namespace:s,mergedBodyStyle:y,handleMaskClick:l,handleEsc:P,mergedTheme:v,cssVars:z?void 0:F,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender,isMounted:g}},render(){const{mergedClsPrefix:r}=this;return O(dt,{to:this.to,show:this.show},{default:()=>{var o;return(o=this.onRender)===null||o===void 0||o.call(this),ze(O("div",{class:[`${r}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?O(Ne,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?O("div",{"aria-hidden":!0,class:[`${r}-drawer-mask`,this.showMask==="transparent"&&`${r}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,O(Mt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[ct,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Vt={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Kt=Q({name:"DrawerContent",props:Vt,setup(){const r=Le(Te,null);r||pt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:o}=r;function s(){o(!1)}return{handleCloseClick:s,mergedTheme:r.mergedThemeRef,mergedClsPrefix:r.mergedClsPrefixRef}},render(){const{title:r,mergedClsPrefix:o,nativeScrollbar:s,mergedTheme:z,bodyStyle:g,bodyContentStyle:v,headerStyle:a,footerStyle:n,scrollbarProps:i,closable:h,$slots:b}=this;return O("div",{role:"none",class:[`${o}-drawer-content`,s&&`${o}-drawer-content--native-scrollbar`]},b.header||r||h?O("div",{class:`${o}-drawer-header`,style:a,role:"none"},O("div",{class:`${o}-drawer-header__main`,role:"heading","aria-level":"1"},b.header!==void 0?b.header():r),h&&O(ht,{onClick:this.handleCloseClick,clsPrefix:o,class:`${o}-drawer-header__close`,absolute:!0})):null,s?O("div",{class:`${o}-drawer-body`,style:g,role:"none"},O("div",{class:`${o}-drawer-body-content-wrapper`,style:v,role:"none"},b)):O(je,Object.assign({themeOverrides:z.peerOverrides.Scrollbar,theme:z.peers.Scrollbar},i,{class:`${o}-drawer-body`,contentClass:`${o}-drawer-body-content-wrapper`,contentStyle:v}),b),b.footer?O("div",{class:`${o}-drawer-footer`,style:n,role:"none"},b.footer()):null)}}),Jt={1:"注册赠送",2:"受邀请赠送",3:"邀请他人赠送",4:"购买卡密充值",5:"管理员赠送",6:"扫码购买充值",7:"MJ绘画失败退款",8:"签到奖励"},Qt={class:"flex h-full flex-col"},Zt=t("div",null,"钱包余额",-1),en=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 一般AI模型余额 ",-1),tn={class:"text-3xl text-[#555]"},nn=t("span",{class:"ml-4 text-[#989898]"},"每次对话消耗1次对话余额！",-1),on=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 增强AI模型余额 ",-1),sn={class:"text-3xl text-[#555]"},rn=t("span",{class:"ml-4 text-[#989898]"},"每次对话消耗1次对话余额！",-1),an=t("div",{class:"text-[#95aac9] mb-2 text-base"}," MJ绘画余额 ",-1),ln={class:"text-3xl text-[#555]"},cn=t("span",{class:"ml-4 text-[#989898]"},"根据画图动作消耗不同的额度！",-1),dn=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 卡密充值 ",-1),un=t("div",null,"充值记录",-1),fn={class:"relative"},pn=["src"],hn={class:"flex justify-between items-end min-h-28"},mn=t("span",{class:"text-sm font-bold mr-1"},"一般AI模型",-1),vn={class:"font-bold"},bn={class:"flex justify-between items-end min-h-28"},gn=t("span",{class:"text-sm font-bold mr-1"},"增强AI模型",-1),yn={class:"font-bold"},_n={class:"flex justify-between items-end min-h-28"},xn=t("span",{class:"text-sm font-bold mr-1"},"MJ绘画积分",-1),wn={class:"font-bold"},kn={class:"flex justify-between items-end mt-5"},$n={class:"text-xl text-[red] font-bold"},Sn=Q({__name:"wallet",setup(r){const{isSmallMd:o,isMobile:s}=me(),z=ce(),g=ve();mt();const v=L(()=>z.userBalance),a=B(!1),n=B(""),i=B(!1),h=B([]),b=B(!1),x=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:k=>{x.page=k,y()},onUpdatePageSize:k=>{x.pageSize=k,x.page=1,y()}}),T=L(()=>[{title:"订单编号",key:"uid"},{title:"充值类型",key:"rechargeType",render(k){return Jt[k.rechargeType]}},{title:"一般AI模型",key:"model3Count"},{title:"增强AI模型",key:"model4Count"},{title:"MJ绘画积分",key:"drawMjCount"},{title:"有效期",key:"expireDateCn"},{title:"充值时间",key:"createdAt",render(k){return k.createdAt}}]),A=B([]);async function y(){const k=await vt({page:x.page,size:x.pageSize}),{rows:f}=k.data;A.value=f}async function l(){if(!n.value)return g.warning("请先填写卡密！");try{a.value=!0,await gt({code:n.value}),g.success("卡密兑换成功、祝您使用愉快！"),y(),z.getUserInfo(),a.value=!1}catch{a.value=!1}}function u(){i.value=!0}async function P(){const k=await yt({status:1,size:30});h.value=k.data.rows}const j=L(()=>{var k;return(k=z.globalConfig)==null?void 0:k.buyCramiAddress});function F(){window.open(j.value)}return be(()=>{y()}),(k,f)=>(R(),q("div",Qt,[d(e(ne),null,{header:c(()=>[Zt]),default:c(()=>[d(e(le),{"x-gap":24,"y-gap":24,cols:e(o)?1:2,class:"mt-3"},{default:c(()=>[d(e(Y),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[en,t("b",tn,"￥: "+C(e(v).sumModel3Count??0),1),N(),nn]),_:1}),d(e(Y),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[on,t("b",sn,"￥: "+C(e(v).sumModel4Count??0),1),N(),rn]),_:1}),d(e(Y),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[an,t("b",ln,"￥: "+C(e(v).sumDrawMjCount??0),1),N(),cn]),_:1}),d(e(Y),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[dn,d(e(Ee),{wrap:!1},{default:c(()=>[d(e(te),{value:n.value,"onUpdate:value":f[0]||(f[0]=w=>n.value=w),placeholder:"请粘贴或填写您的卡密信息！",class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value"]),d(e(U),{type:"primary",loading:a.value,onClick:l},{default:c(()=>[N(" 兑换 ")]),_:1},8,["loading"]),e(j)?(R(),H(e(U),{key:0,type:"success",onClick:u},{default:c(()=>[N(" 购买卡密 ")]),_:1})):J("",!0)]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),d(e(ne),{class:"mt-5 flex-1"},{header:c(()=>[un]),default:c(()=>[d(e(Xe),{columns:e(T),loading:b.value,"scroll-x":800,data:A.value,"max-height":"280",pagination:x},null,8,["columns","loading","data","pagination"])]),_:1}),d(e(qt),{show:i.value,"onUpdate:show":f[1]||(f[1]=w=>i.value=w),width:e(o)?"100%":502,"on-after-enter":P},{default:c(()=>[d(e(Kt),{title:"套餐购买",closable:""},{default:c(()=>[d(e(le),{"x-gap":15,"y-gap":15,cols:e(o)?1:2,class:"mt-3"},{default:c(()=>[(R(!0),q(He,null,bt(h.value,(w,I)=>(R(),H(e(Y),{key:I},{default:c(()=>[d(e(ne),{size:"small",embedded:""},{header:c(()=>[t("div",fn,[t("b",null,C(w.name),1)])]),cover:c(()=>[t("img",{src:w.coverImg},null,8,pn)]),default:c(()=>[t("div",null,[t("p",null,C(w.des),1),t("div",hn,[mn,t("span",vn,C(w.model3Count),1)]),t("div",bn,[gn,t("span",yn,C(w.model4Count),1)]),t("div",_n,[xn,t("span",wn,C(w.drawMjCount),1)]),t("div",kn,[t("i",$n,C(`￥${w.price}`),1),d(e(U),{type:"primary",dashed:"",size:"small",onClick:F},{default:c(()=>[N(" 购买套餐 ")]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])]))}}),Cn={class:"flex flex-col justify-center items-center"},zn={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},An=t("span",null,"个人中心",-1),Tn={class:"mt-3 text-lg text-[#555]"},En={class:"text-[#95aac9] mt-2"},In={class:"text-[#555] mt-3 px-4"},Pn={class:"self-start"},Mn=t("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[t("span",null,"我的账户余额")],-1),Bn={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},Rn=t("span",null,"会员过期时间：",-1),On={class:"flex items-center space-x-4 pl-3 mt-3"},Ln=t("span",{class:"flex-shrink-0 w-24 text-primary"},"一般AI模型：",-1),Dn={class:"w-[200px]"},Nn={class:"flex items-center space-x-4 pl-3 mt-3"},jn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"增强AI模型：",-1),Fn={class:"w-[200px]"},Un={class:"flex items-center space-x-4 pl-3 mt-3"},Hn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额：",-1),Wn={class:"w-[200px]"},Gn={class:"flex items-center space-x-4 pl-3 mt-3"},Xn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信：",-1),Yn={class:"w-[200px]"},qn={key:1},Vn={class:"flex items-center space-x-4 pl-3 mt-3"},Kn=t("span",{class:"flex-shrink-0 w-24 text-primary"},"尊贵会员：",-1),Jn={class:"w-[200px]"},Qn=Q({__name:"detail",setup(r){const o=ce(),s=We(),{userBalance:z}=o,g=Ge(),v=L(()=>o.userInfo.email||""),a=L(()=>o.userInfo.isBindWx),n=B(o.userInfo.avatar??pe),i=B(o.userInfo.username??"未登录"),h=B(o.userInfo.sign??"领先的AI工具，让你的创作更加轻松。支持多种风格，让你的创作更加丰富。");function b(){o.logOut(),s.push("/")}const x=L(()=>o.isLogin);return be(()=>{x.value||o.setLoginDialog(!0)}),(T,A)=>(R(),q("div",Cn,[t("div",zn,[An,e(x)?(R(),H(e(U),{key:0,tertiary:"",type:"error",onClick:b},{default:c(()=>[N(" 退出登录 ")]),_:1})):J("",!0),e(x)?J("",!0):(R(),H(e(U),{key:1,tertiary:"",type:"success",onClick:A[0]||(A[0]=y=>e(o).setLoginDialog(!0))},{default:c(()=>[N(" 点击登入 ")]),_:1}))]),d(e(Ie),{size:148,src:n.value,"fallback-src":e(pe)},null,8,["src","fallback-src"]),t("b",Tn,C(i.value),1),t("span",En,C(e(v)),1),t("div",In,C(h.value),1),t("div",Pn,[Mn,e(z).expirationTime?(R(),q("div",Bn,[Rn,t("span",null,C(e(z).expirationTime),1)])):J("",!0),t("div",On,[Ln,t("div",Dn,C(e(z).sumModel3Count||"0")+" 次 ",1)]),t("div",Nn,[jn,t("div",Fn,C(e(z).sumModel4Count||"0")+" 次 ",1)]),t("div",Un,[Hn,t("div",Wn,C(e(z).sumDrawMjCount||"0")+" 积分 ",1)]),t("div",Gn,[Xn,t("div",Yn,[e(a)?(R(),q("span",qn,"已绑定微信")):(R(),H(e(U),{key:0,text:"",onClick:A[1]||(A[1]=y=>e(g).updateBindwxDialog(!0))},{default:c(()=>[N(" 点击绑定微信 ")]),_:1}))])]),t("div",Vn,[Kn,t("div",Jn,[t("button",{style:{background:"linear-gradient(to right, #4613d3, #bc24eb)",color:"white",padding:"8px 16px",border:"none",cursor:"pointer","border-radius":"4px","font-size":"16px"},onClick:A[2]||(A[2]=y=>e(g).updateGoodsDialog(!0))}," 前往选购VIP会员 ")])])])]))}}),Zn=t("div",null,"修改密码",-1),eo={class:"flex justify-between"},to=t("span",{class:"text-[#95AAC9]"},"更新密码完成后将重新登录！",-1),no=t("b",{class:"text-base"},"密码要求",-1),oo=t("p",{class:"text-[#95AAC9] mt-3"}," 要创建一个新的密码，你必须满足以下所有要求。 ",-1),so=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最少6个字符 ",-1),ro=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最多30个字符 ",-1),ao=t("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 至少带有一个数字 ",-1),io=Q({__name:"password",setup(r){const o=B({oldPassword:"",password:"",reenteredPassword:""}),s=o,z=B(null),g=B(null),v={oldPassword:[{required:!0,min:6,message:"密码最短长度为6位数",trigger:["blur"]},{required:!0,max:30,message:"密码最长长度为30位数",trigger:["blur"]}],password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:a,message:"两次密码输入不一致",trigger:"input"},{validator:n,message:"两次密码输入不一致",trigger:["blur","password-input"]}]};function a(l,u){return!!o.value.password&&o.value.password.startsWith(u)&&o.value.password.length>=u.length}function n(l,u){return u===o.value.password}function i(){var l;o.value.reenteredPassword&&((l=g.value)==null||l.validate({trigger:"password-input"}))}const{isSmallXl:h}=me(),b=ce(),x=ve();async function T(l){(await xt(l)).success&&x.success("密码更新成功、请重新登录系统！"),A(),b.updatePasswordSuccess()}function A(){o.value={oldPassword:"",password:"",reenteredPassword:""}}function y(l){var u;l.preventDefault(),(u=z.value)==null||u.validate(async P=>{if(!P){const{oldPassword:j,password:F}=o.value;T({oldPassword:j,password:F})}})}return(l,u)=>(R(),H(e(ne),null,{header:c(()=>[Zn]),default:c(()=>[d(e(le),{"x-gap":24,"y-gap":24,cols:e(h)?1:3,class:"mt-3"},{default:c(()=>[d(e(Y),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:"2"},{default:c(()=>[d(e(_t),{ref_key:"formRef",ref:z,model:e(s),rules:v},{default:c(()=>[d(e(Se),{path:"oldPassword",label:"旧密码"},{default:c(()=>[d(e(te),{value:e(s).oldPassword,"onUpdate:value":u[0]||(u[0]=P=>e(s).oldPassword=P),onKeydown:u[1]||(u[1]=Ce(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(e(Se),{path:"password",label:"新密码"},{default:c(()=>[d(e(te),{value:e(s).password,"onUpdate:value":u[2]||(u[2]=P=>e(s).password=P),type:"password",onInput:i,onKeydown:u[3]||(u[3]=Ce(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(e(Se),{ref_key:"rPasswordFormItemRef",ref:g,first:"",path:"reenteredPassword",label:"确认密码"},{default:c(()=>[d(e(te),{value:e(s).reenteredPassword,"onUpdate:value":u[4]||(u[4]=P=>e(s).reenteredPassword=P),disabled:!e(s).password,type:"password",tabindex:"0",onKeyup:Ce(y,["enter"])},null,8,["value","disabled","onKeyup"])]),_:1},512),t("div",eo,[to,d(e(U),{disabled:e(s).oldPassword===null,type:"primary",onClick:y},{default:c(()=>[N(" 更新您的密码 ")]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),d(e(Y),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c] dark:border-[#ffffff17]"},{default:c(()=>[no,oo,so,ro,ao]),_:1})]),_:1},8,["cols"])]),_:1}))}});var Ye={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(r,o){(function(z,g){r.exports=g()})(wt,function(){return function(){var s={686:function(v,a,n){n.d(a,{default:function(){return $e}});var i=n(279),h=n.n(i),b=n(370),x=n.n(b),T=n(817),A=n.n(T);function y(S){try{return document.execCommand(S)}catch{return!1}}var l=function(m){var p=A()(m);return y("cut"),p},u=l;function P(S){var m=document.documentElement.getAttribute("dir")==="rtl",p=document.createElement("textarea");p.style.fontSize="12pt",p.style.border="0",p.style.padding="0",p.style.margin="0",p.style.position="absolute",p.style[m?"right":"left"]="-9999px";var _=window.pageYOffset||document.documentElement.scrollTop;return p.style.top="".concat(_,"px"),p.setAttribute("readonly",""),p.value=S,p}var j=function(m,p){var _=P(m);p.container.appendChild(_);var $=A()(_);return y("copy"),_.remove(),$},F=function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},_="";return typeof m=="string"?_=j(m,p):m instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(m==null?void 0:m.type)?_=j(m.value,p):(_=A()(m),y("copy")),_},k=F;function f(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(p){return typeof p}:f=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(S)}var w=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=m.action,_=p===void 0?"copy":p,$=m.container,E=m.target,W=m.text;if(_!=="copy"&&_!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(E!==void 0)if(E&&f(E)==="object"&&E.nodeType===1){if(_==="copy"&&E.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(_==="cut"&&(E.hasAttribute("readonly")||E.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(W)return k(W,{container:$});if(E)return _==="cut"?u(E):k(E,{container:$})},I=w;function D(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(p){return typeof p}:D=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},D(S)}function Z(S,m){if(!(S instanceof m))throw new TypeError("Cannot call a class as a function")}function X(S,m){for(var p=0;p<m.length;p++){var _=m[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}function V(S,m,p){return m&&X(S.prototype,m),p&&X(S,p),S}function ge(S,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(m&&m.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),m&&re(S,m)}function re(S,m){return re=Object.setPrototypeOf||function(_,$){return _.__proto__=$,_},re(S,m)}function ye(S){var m=we();return function(){var _=oe(S),$;if(m){var E=oe(this).constructor;$=Reflect.construct(_,arguments,E)}else $=_.apply(this,arguments);return _e(this,$)}}function _e(S,m){return m&&(D(m)==="object"||typeof m=="function")?m:xe(S)}function xe(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function we(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oe(S){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},oe(S)}function ae(S,m){var p="data-clipboard-".concat(S);if(m.hasAttribute(p))return m.getAttribute(p)}var ke=function(S){ge(p,S);var m=ye(p);function p(_,$){var E;return Z(this,p),E=m.call(this),E.resolveOptions($),E.listenClick(_),E}return V(p,[{key:"resolveOptions",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof $.action=="function"?$.action:this.defaultAction,this.target=typeof $.target=="function"?$.target:this.defaultTarget,this.text=typeof $.text=="function"?$.text:this.defaultText,this.container=D($.container)==="object"?$.container:document.body}},{key:"listenClick",value:function($){var E=this;this.listener=x()($,"click",function(W){return E.onClick(W)})}},{key:"onClick",value:function($){var E=$.delegateTarget||$.currentTarget,W=this.action(E)||"copy",de=I({action:W,container:this.container,target:this.target(E),text:this.text(E)});this.emit(de?"success":"error",{action:W,text:de,trigger:E,clearSelection:function(){E&&E.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function($){return ae("action",$)}},{key:"defaultTarget",value:function($){var E=ae("target",$);if(E)return document.querySelector(E)}},{key:"defaultText",value:function($){return ae("text",$)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function($){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return k($,E)}},{key:"cut",value:function($){return u($)}},{key:"isSupported",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],E=typeof $=="string"?[$]:$,W=!!document.queryCommandSupported;return E.forEach(function(de){W=W&&!!document.queryCommandSupported(de)}),W}}]),p}(h()),$e=ke},828:function(v){var a=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function i(h,b){for(;h&&h.nodeType!==a;){if(typeof h.matches=="function"&&h.matches(b))return h;h=h.parentNode}}v.exports=i},438:function(v,a,n){var i=n(828);function h(T,A,y,l,u){var P=x.apply(this,arguments);return T.addEventListener(y,P,u),{destroy:function(){T.removeEventListener(y,P,u)}}}function b(T,A,y,l,u){return typeof T.addEventListener=="function"?h.apply(null,arguments):typeof y=="function"?h.bind(null,document).apply(null,arguments):(typeof T=="string"&&(T=document.querySelectorAll(T)),Array.prototype.map.call(T,function(P){return h(P,A,y,l,u)}))}function x(T,A,y,l){return function(u){u.delegateTarget=i(u.target,A),u.delegateTarget&&l.call(T,u)}}v.exports=b},879:function(v,a){a.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},a.nodeList=function(n){var i=Object.prototype.toString.call(n);return n!==void 0&&(i==="[object NodeList]"||i==="[object HTMLCollection]")&&"length"in n&&(n.length===0||a.node(n[0]))},a.string=function(n){return typeof n=="string"||n instanceof String},a.fn=function(n){var i=Object.prototype.toString.call(n);return i==="[object Function]"}},370:function(v,a,n){var i=n(879),h=n(438);function b(y,l,u){if(!y&&!l&&!u)throw new Error("Missing required arguments");if(!i.string(l))throw new TypeError("Second argument must be a String");if(!i.fn(u))throw new TypeError("Third argument must be a Function");if(i.node(y))return x(y,l,u);if(i.nodeList(y))return T(y,l,u);if(i.string(y))return A(y,l,u);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function x(y,l,u){return y.addEventListener(l,u),{destroy:function(){y.removeEventListener(l,u)}}}function T(y,l,u){return Array.prototype.forEach.call(y,function(P){P.addEventListener(l,u)}),{destroy:function(){Array.prototype.forEach.call(y,function(P){P.removeEventListener(l,u)})}}}function A(y,l,u){return h(document.body,y,l,u)}v.exports=b},817:function(v){function a(n){var i;if(n.nodeName==="SELECT")n.focus(),i=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var h=n.hasAttribute("readonly");h||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),h||n.removeAttribute("readonly"),i=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var b=window.getSelection(),x=document.createRange();x.selectNodeContents(n),b.removeAllRanges(),b.addRange(x),i=b.toString()}return i}v.exports=a},279:function(v){function a(){}a.prototype={on:function(n,i,h){var b=this.e||(this.e={});return(b[n]||(b[n]=[])).push({fn:i,ctx:h}),this},once:function(n,i,h){var b=this;function x(){b.off(n,x),i.apply(h,arguments)}return x._=i,this.on(n,x,h)},emit:function(n){var i=[].slice.call(arguments,1),h=((this.e||(this.e={}))[n]||[]).slice(),b=0,x=h.length;for(b;b<x;b++)h[b].fn.apply(h[b].ctx,i);return this},off:function(n,i){var h=this.e||(this.e={}),b=h[n],x=[];if(b&&i)for(var T=0,A=b.length;T<A;T++)b[T].fn!==i&&b[T].fn._!==i&&x.push(b[T]);return x.length?h[n]=x:delete h[n],this}},v.exports=a,v.exports.TinyEmitter=a}},z={};function g(v){if(z[v])return z[v].exports;var a=z[v]={exports:{}};return s[v](a,a.exports,g),a.exports}return function(){g.n=function(v){var a=v&&v.__esModule?function(){return v.default}:function(){return v};return g.d(a,{a}),a}}(),function(){g.d=function(v,a){for(var n in a)g.o(a,n)&&!g.o(v,n)&&Object.defineProperty(v,n,{enumerable:!0,get:a[n]})}}(),function(){g.o=function(v,a){return Object.prototype.hasOwnProperty.call(v,a)}}(),g(686)}().default})})(Ye);var lo=Ye.exports;const co=kt(lo),uo=r=>{const o=(r==null?void 0:r.appendToBody)===void 0?!0:r.appendToBody;return{toClipboard(s,z){return new Promise((g,v)=>{const a=document.createElement("button"),n=new co(a,{text:()=>s,action:()=>"copy",container:z!==void 0?z:document.body});n.on("success",i=>{n.destroy(),g(i)}),n.on("error",i=>{n.destroy(),v(i)}),o&&document.body.appendChild(a),a.click(),o&&document.body.removeChild(a)})}}},fo=t("div",null,"邀用户、得福利!",-1),po=t("div",{class:"text-[#95aac9] mb-2 text-base"}," 我的邀请码 ",-1),ho={class:"text-2xl text-[#555] dark:text-[#fff] whitespace-nowrap"},mo=t("b",{class:"text-[000]"},"Tips",-1),vo={class:"flex flex-col text-[#707384]"},bo=t("div",null,"邀请记录",-1),go=Q({__name:"invite",setup(r){const{toClipboard:o}=uo(),s=ce(),z=L(()=>s.userInfo.inviteCode),g=L(()=>s.globalConfig),{isSmallXl:v,isMobile:a}=me(),n=ve(),i=B(!1),h=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:l=>{h.page=l,A()},onUpdatePageSize:l=>{h.pageSize=l,h.page=1,A()}}),b=L(()=>[{title:"头像",key:"avatar",render(l){return O(Ie,{src:l.avatar,size:"small",round:!0})}},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render(l){return O(U,{type:l.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>l.status===1?"已认证":"未激活"})}},{title:"邀请时间",key:"createdAt",render(l){return O("div",{style:{fontSize:"12px",color:"#999"}},()=>l.createdAt)}},{title:"获得奖励状态",key:"status",render(l){return O(U,{type:l.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>l.status===1?"已领取邀请奖励":"等待受邀人确认"})}}]),x=B([]);async function T(){const l=await St();if(!l.data)return n.error(l.message);n.success("生成邀请链接成功"),s.getUserInfo()}async function A(){try{i.value=!0;const l=await $t({page:h.page,size:h.pageSize});x.value=l.data.rows,i.value=!1}catch{i.value=!1}}async function y(){if(!z.value)return n.error("请先生成您的专属邀请链接！");const l=`${window.location.href}?inVitecode=${z.value}`;try{await o(l),n.success("复制专属邀请链接成功！")}catch{n.error("当前设置不支持自动复制、手动复制吧！")}}return be(()=>{A()}),(l,u)=>(R(),q(He,null,[d(e(ne),null,{header:c(()=>[fo]),default:c(()=>[d(e(le),{"x-gap":24,"y-gap":24,cols:e(v)?1:3,class:"mt-3"},{default:c(()=>{var P;return[d(e(Y),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:2},{default:c(()=>[po,t("div",{class:Ae(["flex justify-between",[e(v)?"flex-col mt-3":""]])},[t("b",ho,C(e(z)||"********"),1),d(e(Ee),{class:Ae([e(v)?" mt-3":""])},{default:c(()=>[d(e(U),{type:"success",onClick:T},{default:c(()=>[N(" 生成专属邀请码 ")]),_:1}),d(e(U),{type:"primary",onClick:y},{default:c(()=>[N(" 复制专属邀请链接 ")]),_:1})]),_:1},8,["class"])],2)]),_:1}),Number((P=e(g))==null?void 0:P.inviteSendStatus)===1?(R(),H(e(Y),{key:0,class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:1},{default:c(()=>[mo,t("div",vo,[t("span",null,"邀请一位用户赠送"+C(e(g).inviteGiveSendModel3Count)+"次一般AI模型额度+"+C(e(g).inviteGiveSendModel4Count)+"次增强AI模型额度+"+C(e(g).inviteGiveSendDrawMjCount)+"MJ绘画积分",1),t("span",null,"收到邀请用户获得"+C(e(g).invitedGuestSendModel3Count)+"次一般AI模型额度+"+C(e(g).invitedGuestSendModel4Count)+"次增强AI模型额度+"+C(e(g).invitedGuestSendDrawMjCount)+"MJ绘画积分",1)])]),_:1})):J("",!0)]}),_:1},8,["cols"])]),_:1}),d(e(ne),{class:"mt-5"},{header:c(()=>[bo]),default:c(()=>[d(e(Xe),{loading:i.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:e(b),data:x.value,pagination:h,"scroll-x":500},null,8,["loading","columns","data","pagination"])]),_:1})],64))}}),yo={class:"flex flex-col justify-center items-center"},_o={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},xo=t("span",null,"个人中心",-1),wo={class:"mt-3 text-lg text-[#555]"},ko={class:"text-[#95aac9] mt-2"},$o={class:"text-[#555] mt-3 px-4"},So={class:"self-start mt-16"},Co=t("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),zo={class:"flex items-center space-x-4 pl-3 mt-3"},Ao=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"一般AI模型：",-1),To={class:"w-[230px]"},Eo={class:"flex items-center space-x-4 pl-3 mt-3"},Io=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"增强AI模型：",-1),Po={class:"w-[230px]"},Mo={class:"flex items-center space-x-4 pl-3 mt-3"},Bo=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"一般AI模型Token：",-1),Ro={class:"w-[230px]"},Oo={class:"flex items-center space-x-4 pl-3 mt-3"},Lo=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"增强AI模型Token：",-1),Do={class:"w-[230px]"},No={class:"flex items-center space-x-4 pl-3 mt-3"},jo=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绘画使用额度：",-1),Fo={class:"w-[230px]"},Uo={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Ho=t("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Wo={class:"w-[230px]"},Go={key:1},Xo={key:0,class:"flex text-[red] pt-8 text-base font-bold"},Yo=t("span",null,"会员过期时间：",-1),qo={key:1},Vo={class:"flex items-center space-x-4"},Ko={class:"flex-shrink-0 w-[60px]"},Jo={class:"flex-1"},Qo={class:"flex items-center space-x-4 mt-5"},Zo={class:"flex-shrink-0 w-[60px]"},es={class:"flex-1"},ts={class:"flex space-x-4 mt-5"},ns={class:"flex-shrink-0 w-[60px]"},os={class:"flex-1"},fs=Q({__name:"index",setup(r){const o=Ge(),s=ce(),z=We(),g=L(()=>s.userBalance),v=L(()=>{var k;return(k=s.globalConfig)==null?void 0:k.isUseWxLogin}),a=B(!0),n=L(()=>s.isLogin),i=ve(),h=L(()=>s.userInfo.email||""),b=L(()=>s.userInfo.isBindWx),x=B(s.userInfo.avatar??pe),T=B(s.userInfo.username??"未登录"),A=B(s.userInfo.sign??"领先的AI工具，让你的创作更加轻松。支持多种风格，让你的创作更加丰富。旨在为用户提供高效、精准、个性化的智能服务。"),y=B(!1),{isSmallLg:l,isMobile:u}=me();async function P(k){try{y.value=!0;const f=await Tt(k);if(y.value=!1,!f.success)return i.error(f.message);i.success(Et("common.updateUserSuccess")),s.getUserInfo()}catch{y.value=!1}}function j(){n.value||s.setLoginDialog(!0)}be(()=>{j()});function F(){s.logOut(),z.push("/")}return setTimeout(()=>{a.value=!1},500),(k,f)=>(R(),H(e(At),{"has-sider":"",class:"flex h-full"},{default:c(()=>[e(l)?J("",!0):(R(),H(e(Pt),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:c(()=>[t("div",yo,[t("div",_o,[xo,d(e(U),{tertiary:"",type:"error",onClick:F},{default:c(()=>[N(" 退出登录 ")]),_:1})]),d(e(Ie),{size:148,src:x.value,"fallback-src":e(pe)},null,8,["src","fallback-src"]),t("b",wo,C(T.value),1),t("span",ko,C(e(h)),1),t("div",$o,C(A.value),1),t("div",So,[Co,t("div",zo,[Ao,t("div",To,C(e(g).useModel3Count||"0")+" 次 ",1)]),t("div",Eo,[Io,t("div",Po,C(e(g).useModel4Count||"0")+" 次 ",1)]),t("div",Mo,[Bo,t("div",Ro,C(e(g).useModel3Token||"0")+" Token ",1)]),t("div",Oo,[Lo,t("div",Do,C(e(g).useModel4Token||"0")+" Token ",1)]),t("div",No,[jo,t("div",Fo,C(e(g).useDrawMjToken||"0")+" 积分 ",1)]),e(v)?(R(),q("div",Uo,[Ho,t("div",Wo,[e(b)?(R(),q("span",Go,"已绑定微信")):(R(),H(e(U),{key:0,text:"",onClick:f[0]||(f[0]=w=>e(o).updateBindwxDialog(!0))},{default:c(()=>[N(" 点击绑定微信 ")]),_:1}))])])):J("",!0)])]),e(g).expirationTime?(R(),q("div",Xo,[Yo,t("span",null,C(e(g).expirationTime),1)])):J("",!0)]),_:1})),t("div",{class:Ae(["flex flex-col",[e(u)?"w-full":"flex-1"]]),style:zt({padding:e(u)?"10px":"0 28px 0 28px"})},[d(e(It),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(e(u),1)},null,8,["padding"]),d(e(Ct),{type:"line",animated:"",class:"mt-5 flex-1"},{default:c(()=>[e(l)?(R(),H(e(ie),{key:0,name:"detail",tab:"我的详情"},{default:c(()=>[d(Qn)]),_:1})):J("",!0),d(e(ie),{name:"account",tab:"我的钱包"},{default:c(()=>[d(Sn)]),_:1}),d(e(ie),{name:"baseInfo",tab:"基础信息"},{default:c(()=>[d(e(ne),null,{header:c(()=>[a.value||!e(n)?(R(),H(e(ue),{key:0,size:"medium",width:"20%"})):(R(),q("div",qo,"用户基础设置"))]),default:c(()=>[a.value||!e(n)?(R(),H(e(Ee),{key:0,vertical:""},{default:c(()=>[d(e(ue),{height:"40px",size:"medium"}),d(e(ue),{height:"40px",size:"medium"}),d(e(ue),{height:"80px",size:"medium"})]),_:1})):(R(),H(e(le),{key:1,"x-gap":"12",cols:1},{default:c(()=>[d(e(Y),null,{default:c(()=>[t("div",Vo,[t("span",Ko,C(k.$t("setting.avatarLink")),1),t("div",Jo,[d(e(te),{value:x.value,"onUpdate:value":f[1]||(f[1]=w=>x.value=w),placeholder:"请填写头像地址"},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:f[2]||(f[2]=w=>P({avatar:x.value}))},{default:c(()=>[N(C(k.$t("common.update")),1)]),_:1})]),t("div",Qo,[t("span",Zo,C(k.$t("setting.name")),1),t("div",es,[d(e(te),{value:T.value,"onUpdate:value":f[3]||(f[3]=w=>T.value=w),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:f[4]||(f[4]=w=>P({username:T.value}))},{default:c(()=>[N(C(k.$t("common.update")),1)]),_:1})]),t("div",ts,[t("span",ns,C(k.$t("setting.sign")),1),t("div",os,[d(e(te),{value:A.value,"onUpdate:value":f[5]||(f[5]=w=>A.value=w),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),d(e(U),{size:"tiny",text:"",type:"primary",onClick:f[6]||(f[6]=w=>P({sign:A.value}))},{default:c(()=>[N(C(k.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),d(e(ie),{name:"password",tab:"密码管理"},{default:c(()=>[d(io)]),_:1}),d(e(ie),{name:"invite",tab:"邀请得福利"},{default:c(()=>[d(go)]),_:1})]),_:1})],6)]),_:1}))}});export{fs as default};
